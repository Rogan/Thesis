\ProvidesPackage{thesis-preamble}

\usepackage[bindingoffset=20mm,hmarginratio=1:1]{geometry}

\usepackage{	
	amsmath,		% equation handling
%	amssymb,		% maths symbols
%	sectsty,		% editing of section heading style
	booktabs,		% detailed formatting of tables
	color,			% duh
	graphicx,		% 
	array,			% detailed layout of tables
%	epspdfconversion, 	% should convert eps to pdf, but package is missing
	setspace,		% line spacing
	longtable,		% for long tables
	csquotes,		% for automating left and right quote marks
	eufrak,		% mathematical alphabets
	colortbl,		% duh
}

% citation and bibliography style control
% backref 			adds bibliography references to where work is cited
\usepackage[bibstyle=Bibliography/au-standard,citestyle=Bibliography/authoryear-comp,backref,maxnames=2]{biblatex}
\bibliography{Bibliography/Thesis,Bibliography/Launcher-manuals,Bibliography/BW1-papers}

% allows editing of caption style
\usepackage[indention=.5cm, labelfont=bf, textfont=it, singlelinecheck=off]{caption}

% customise headers and footers
\usepackage{fancyhdr} 
\pagestyle{plain}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
}
\pagestyle{fancyplain}{
  \fancyhf{} % clear all header and footer fields
  % format is [\fancyplain{eventitle}{evennormal}]{\fancyplain{oddtitle}{oddnormal}}
  \lhead[\fancyplain{\thepage}{\thepage}]{\fancyplain{}{\nouppercase\rightmark}}
  \rhead[\fancyplain{}{\nouppercase\leftmark}]{\fancyplain{\thepage}{\thepage}}
  \rfoot[]{}
  \lfoot[]{}
}

% removes indent and separator from footers
\usepackage[hang,flushmargin,norule]{footmisc}

% allows coloured rows in tables
%\usepackage [table]{xcolor}
% use with %\rowcolors {2}{}{gray!35}
% seems to conflict with booktabs


% load hyperref last
\usepackage[pdftex,
                     pdfauthor={Rogan Shimmin},
                     pdftitle={Trajectory Design for a Very-Low-Thrust Lunar Mission Subject to Highly Non-Linear Constraints},
                     pdfsubject={Spacecraft trajectory optimisation},
                     bookmarks,
                    colorlinks]{hyperref}
\definecolor{hypercolor}{rgb}{0.4,0,0}
\hypersetup{linkcolor=hypercolor,urlcolor=hypercolor,filecolor=hypercolor,citecolor=hypercolor}
\def\chapterautorefname{Section}
\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
\def\subsubsectionautorefname{Section}
\def\figureautorefname{Figure}
\def\equationautorefname{equation}
\def\tableautorefname{Table}
\def\appendixautorefname{Appendix}

% set up columns for array package
\newcolumntype{L}[1]{>{\raggedright\hspace{0pt}}p{#1}}%
\newcolumntype{C}[1]{>{\centering\hspace{0pt}}p{#1}}%

% FROM ONLINE FORUM - puts letters outside brackets 
% set up equation display
%\makeatletter
%\def\tagform@#1{\maketag@@@{\ignorespaces#1\unskip\@@italiccorr}}
%\let\orgtheequation\theequation
%\def\theequation{(\orgtheequation)}
%\makeatother

% FROM HYPERREF.PDF - doesn't work
%\begingroup\expandafter\expandafter\expandafter\endgroup
%\expandafter\ifx\csname subequations\endcsname\relax
%\else
%\let\HyOrg@subequations\subequations
%\def\subequations{%
%  \stepcounter{equation}%
%  \protected@edef\theHparentequation{%
%    \@ifundefined{theHequation}\theequation\theHequation
%  }%
%  \addtocounter{equation}{-1}%
%  \HyOrg@subequations
%  \def\theHequation{\theHparentequation\alph{equation}}%
%  \ignorespaces
%}%
%\fi

% my own macros
\newcommand\BW{\emph{Lunar Mission BW-1}}
\newcommand\degrees{$^\circ$}
\renewcommand\vec{\mathbf}
\renewcommand\chaptername{Section}
\renewcommand\maketitle{\include{Title}}
\onehalfspace