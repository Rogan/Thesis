\ProvidesPackage{thesis-preamble}

\usepackage[bindingoffset=20mm,hcentering]{geometry}

\usepackage{	
	amsmath,		% equation handling
%	amssymb,		% maths symbols
%	sectsty,		% editing of section heading style
	booktabs,		% detailed formatting of tables
	color,			% duh
	graphicx,		% 
	array,			% detailed layout of tables
%	epspdfconversion, 	% should convert eps to pdf, but package is missing
	setspace,		% line spacing
	longtable,		% for long tables
	csquotes,		% for automating left and right quote marks
	eufrak,			% mathematical alphabets
	colortbl,		% duh
	multirow,		% duh
	contour,		% to provide text outlines (for figures)
	subfloat,		% for figures X(a) and X(b)
	titling,			% for title, author etc macros
}%

% for astronomical symbols (mathb) but don't want to change infinity symbol or integrals (matha)
% need matha for not equals symbol?
\usepackage[
matha,
mathb,
% mathx,
]{mathabx}

% citation and bibliography style control
% backref 			adds bibliography references to where work is cited
% sortcites			doesn't work - automatically sorts citations same as bib (nyt) when i want (ynt)
\usepackage[bibstyle=Bibliography/au-standard,citestyle=Bibliography/au-standard,backref,maxnames=2,maxbibnames=99,sortcites=false,backend=bibtex]{biblatex}%
\def\multicitedelim{, }
\bibliography{Bibliography/Thesis,Bibliography/Launcher-manuals,Bibliography/BW1-papers}

% allows user-defined date formats
\usepackage[nodayofweek]{datetime}

% allows editing of caption style
\usepackage[indention=.5cm, labelfont=bf, textfont=it, singlelinecheck=off]{caption}

% customise headers and footers
\usepackage{fancyhdr} 
\pagestyle{plain}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
}
\pagestyle{fancyplain}{
  \fancyhf{} % clear all header and footer fields
  % format is [\fancyplain{eventitle}{evennormal}]{\fancyplain{oddtitle}{oddnormal}}
  \lhead[\fancyplain{\thepage}{\thepage}]{\fancyplain{}{\nouppercase\rightmark}}
  \rhead[\fancyplain{}{\nouppercase\leftmark}]{\fancyplain{\thepage}{\thepage}}
  \rfoot[]{}
  \lfoot[]{}
}

% removes indent and separator from footers
\usepackage[hang,flushmargin,norule]{footmisc}

% extends color package
% table option allows coloured rows in tables (loads colortbl)
%\usepackage [usenames,dvipsnames,table]{xcolor}
% use with %\rowcolors {2}{}{gray!35}
% seems to conflict with booktabs
\definecolor{darkgreen}{rgb}{0,0.4,0}

% For inkscape vector graphics
\def\figurewidth{0.85\textwidth}
%\graphicspath{{Images/}{Images/Ascent/}{Images/Ascent2/}{Images/Cruise/}{Images/Propagate/}{Images/Capture/}{Images/Descent/}{Images/Science/}}


\title{Trajectory Design for a Very-Low-Thrust Lunar Mission}% Subject to Highly Non-Linear Constraints}
\author{Rogan Shimmin}
\newcommand\supervisors{
Assoc. Prof. Benjamin Cazzolato\\%, University of Adelaide\\
%  Dr. Vincent Wheatley, University of Queensland\\
Dr. Matthew Tetlow\\%, Tigerfish Aviation\\
%  Dr.-Ing. Michael Gr\"{a}\ss lin, Bertrandt A.G.\\
%  Dr.-Ing. Ren\'{e} Laufer, Baylor University\\
%  Dr.-Ing. Georg Herdrich, Universit\"{a}t Stuttgart
}
\newcommand\thesubject{Spacecraft trajectory design \& optimisation}

% load hyperref last
\usepackage[pdftex,
                     pdfauthor={\theauthor},
                     pdftitle={\thetitle},
                     pdfsubject={\thesubject},
                     bookmarks,
                    colorlinks]{hyperref}
\definecolor{hypercolor}{rgb}{0,0,0}%{0.4,0,0}
\hypersetup{linkcolor=hypercolor,urlcolor=hypercolor,filecolor=hypercolor,citecolor=hypercolor}
\def\chapterautorefname{Chapter}
\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
\def\subsubsectionautorefname{Section}
\def\figureautorefname{Figure}
\def\equationautorefname{Equation}
\def\tableautorefname{Table}
\def\appendixautorefname{Appendix}
\renewcommand\chaptername{Chapter}

\renewcommand\maketitle{\include{Title}}
\onehalfspace

% load cleveref last - hyperref interferes with it
\usepackage{cleveref}	% for grouped cross-references


% set up columns for array package
\newcolumntype{L}[1]{>{\raggedright\hspace{0pt}}p{#1}}%
\newcolumntype{C}[1]{>{\centering\hspace{0pt}}p{#1}}%

\newdateformat{mydate}{the \ordinaldate\THEDAY\ day of \monthname\ in the year \THEYEAR}

% FROM ONLINE FORUM - puts letters outside brackets 
% set up equation display
%\makeatletter
%\def\tagform@#1{\maketag@@@{\ignorespaces#1\unskip\@@italiccorr}}
%\let\orgtheequation\theequation
%\def\theequation{(\orgtheequation)}
%\makeatother

% FROM HYPERREF.PDF - doesn't work
%\begingroup\expandafter\expandafter\expandafter\endgroup
%\expandafter\ifx\csname subequations\endcsname\relax
%\else
%\let\HyOrg@subequations\subequations
%\def\subequations{%
%  \stepcounter{equation}%
%  \protected@edef\theHparentequation{%
%    \@ifundefined{theHequation}\theequation\theHequation
%  }%
%  \addtocounter{equation}{-1}%
%  \HyOrg@subequations
%  \def\theHequation{\theHparentequation\alph{equation}}%
%  \ignorespaces
%}%
%\fi

\raggedbottom


% my own macros
\newcommand\BW{\emph{Lunar Mission BW-1}}
\newcommand\degrees{\ensuremath{^\circ}}
\renewcommand\vec{\mathbf}
